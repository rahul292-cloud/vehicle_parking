{% extends 'dashboard/base.html' %}
{% block title %}
Category
{% endblock %}

{% block content %}

<div class="app-title">
    <div>
        <h1><i class="fa fa-dashboard"></i> Dashboard</h1>
<!--        <p>A free and open source Bootstrap 4 admin template</p>-->
    </div>
    <ul class="app-breadcrumb breadcrumb">
        <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
        <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
    </ul>
</div>
<div class="row">
    <div class="col-md-6 col-lg-3">
        <div class="widget-small primary coloured-icon"><i class="icon fa fa-bus fa-3x"></i>
            <div class="info">
                <h4>Total Vehicle</h4>
                <p><b>{{user}}</b></p>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="widget-small info coloured-icon"><i class="icon fa fa-battery-empty fa-3x"></i>
            <div class="info">
                <h4>Total Slot</h4>
                <p><b>{{totalslot}}</b></p>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="widget-small warning coloured-icon"><i class="icon fa fa-files-o fa-3x"></i>
            <div class="info">
                <h4>Available Slot</h4>
                <p><b>{{avaiable}}</b></p>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3">
        <div class="widget-small primary coloured-icon"><i class="icon fa fa-book fa-3x"></i>
            <div class="info">
                <h4>Total Booking</h4>
                <p><b>{{book}}</b></p>
            </div>
        </div>
    </div>
<!--    <div class="col-md-6 col-lg-3">-->
<!--        <div class="widget-small danger coloured-icon"><i class="icon fa fa-star fa-3x"></i>-->
<!--            <div class="info">-->
<!--                <h4>Stars</h4>-->
<!--                <p><b>500</b></p>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
</div>

<div class="row">

    <div class="col-md-6 col-lg-3">
        <div class="widget-small danger coloured-icon"><i class="icon fa fa-star fa-3x"></i>
            <div class="info">
                <h4>Total Exit</h4>
                <p><b>{{exit}}</b></p>
            </div>
        </div>
    </div>
<!--    <div class="col-md-6 col-lg-3">-->
<!--        <div class="widget-small warning coloured-icon"><i class="icon fa fa-files-o fa-3x"></i>-->
<!--            <div class="info">-->
<!--                <h4>Available Slot</h4>-->
<!--                <p><b>{{avaiable}}</b></p>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="col-md-6 col-lg-3">-->
<!--        <div class="widget-small danger coloured-icon"><i class="icon fa fa-star fa-3x"></i>-->
<!--            <div class="info">-->
<!--                <h4>Stars</h4>-->
<!--                <p><b>500</b></p>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
</div>

<div class="row">
    <div class="col-md-6">
        <div class="tile">
            <h3 class="tile-title">Monthly Report</h3>

            <div class="embed-responsive embed-responsive-16by9">
<!--                                <div id="container1" style="width: 500px; height: 400px"></div>-->
                <canvas id="myChart1" width="400" height="400"></canvas>

<!--                <canvas class="embed-responsive-item" id="lineChartDemo"></canvas>-->
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="tile">
            <h3 class="tile-title">Yearly Report</h3>
            <div class="embed-responsive embed-responsive-16by9">
                            <div id="container2" style="width: 500px; height: 400px"></div>

<!--                <canvas class="embed-responsive-item" id="container1"></canvas>-->
            </div>
        </div>
    </div>
<!--        <div id="container" style="width: 100%; height: 100%"></div>-->

</div>

<div class="row">
    <div class="col-md-6">
        <div class="tile">
            <h3 class="tile-title">Monthly Report</h3>

            <div class="embed-responsive embed-responsive-16by9">
                                <div id="container3" style="width: 500px; height: 400px"></div>

<!--                <canvas class="embed-responsive-item" id="lineChartDemo"></canvas>-->
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="tile">
            <h3 class="tile-title">Yearly Report</h3>
            <div class="embed-responsive embed-responsive-16by9">
<!--                            <div id="container4" style="width: 500px; height: 400px"></div>-->
                <canvas id="myChart" width="400" height="400"></canvas>


<!--                <canvas class="embed-responsive-item" id="container1"></canvas>-->
            </div>
        </div>
    </div>
<!--        <div id="container" style="width: 100%; height: 100%"></div>-->

</div>

{% endblock %}

{% block script %}
{{ block.super }}


<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>-->

<!--<script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-base.min.js"></script>-->


<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>


<!-- <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-core.min.js" type="text/javascript"></script>-->
<!--    <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-map.min.js" type="text/javascript"></script>-->
<!--    <script src="https://cdn.anychart.com/geodata/2.0.0/countries/australia/australia.js"></script>-->


<!--<script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-core.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>-->
<!--<script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-stock.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>-->
<!--<script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-exports.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>-->


<!--<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/css/select2.min.css" rel="stylesheet"/>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/js/select2.min.js"></script>-->


<script>
      console.log('hi')
var get_url="{% url 'chartView' %}"
var defaultdata=[]
var labels=[]

$.ajax({
mathod:'GET',
url:get_url,
success: function(data){
labels=data.labels
defaultdata=data.totalslot
defaultdata=data.avaiable
defaultdata=data.user
defaultdata=data.book
defaultdata=data.exit
defaultdata=data.booking_vehicle
console.log(data)
},
error: function(error_data){
console.log(error_data)

}

});
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: labels
        datasets: [{
            label: '# of Votes',
            data: defaultdata,
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});

var ctx = document.getElementById('myChart1').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});




<!--                   dynamic                -->

      anychart.onDocumentReady(function() {
var data = [
  {x: "A", value: 637166},
  {x: "B", value: 721630},
  {x: "C", value: 148662},
  {x: "D", value: 78662},
  {x: "E", value: 90000},
  {x: "F", value: 50000},
  {x: "G", value: 70000},
];

// create a pie chart and set the data
chart = anychart.pie(data);

/* set the inner radius
(to turn the pie chart into a doughnut chart)*/
chart.innerRadius("30%");

// set the container id
chart.container("container1");

// initiate drawing the chart
chart.draw();



<!--        // set the data-->
        var data = {
            header: ["Name", "Death toll"],
            rows: [
              ["San-Francisco (1906)", 15000],
              ["Messina (1908)", 87000],
              ["Ashgabat (1948)", 175000],
              ["Chile (1960)", 10000],
              ["Tian Shan (1976)", 242000],
              ["Armenia (1988)", 25000],
              ["Iran (1990)", 50000]
        ]};

<!--        // create the chart-->
               chart = anychart.column();
<!--        // add the data-->
        chart.data(data);

<!--        // set the chart title-->
<!--        chart.title("The deadliest earthquakes in the XXth century");-->

<!--        // draw-->
        chart.container("container2");
        chart.draw();






      });


    	anychart.onDocumentReady(function () {
        var dataSet = [
    		{'id': 'AU.WA', 'value': 300},
    		{'id': 'AU.JB', 'value': 230},
    		{'id': 'AU.NS', 'value': 240},
    		{'id': 'AU.VI', 'value': 275},
    		{'id': 'AU.NT', 'value': 130},
    		{'id': 'AU.TS', 'value': 190},
    		{'id': 'AU.CT', 'value': 100},
    		{'id': 'AU.SA', 'value': 305},
    		{'id': 'AU.QL', 'value': 190}
        ];

        //
        var map = anychart.map();
        map.geoData(anychart.maps.australia);

        // set the series
        var series = map.choropleth(dataSet);

    	  // disable labels
        series.labels(false);

        // set the container
        map.container('container3');
        map.draw();


        <!--// create data table on loaded data-->
var dataTable = anychart.data.table();
dataTable.addData(getData());

<!--// map loaded data-->
var mapping = dataTable.mapAs({'value': 1});

<!--// create stock chart-->
var chart = anychart.stock();

<!--// add a series-->
chart.plot(0).line(mapping);

<!--// events-->
<!--// create a listener function-->
listener = function(e){
    chart.title("The selected range is: " + anychart.format.dateTime(e.firstSelected, 'dd MMM yyyy') + " - " + anychart.format.dateTime(e.lastSelected,'dd MMM yyyy'));
}

<!--// attach it to all required events-->
chart.listen("selectedrangechangestart", listener);
chart.listen("selectedrangebeforechange", listener);
chart.listen("selectedrangechange", listener);
chart.listen("selectedrangechangefinish", listener);

<!--// adjust the title-->
chart.title("Drag the scroller to watch the selected range is changing");

<!--// set container id for the chart-->
chart.container("container4");

<!--// initiate chart drawing-->
chart.draw();

      });




function getData(){
return [
    ['2003-12-24', 2011.08],
    ['2003-12-25', 2020.78],
    ['2003-12-26', 2044.55],
    ['2003-12-29', 2056.75],
    ['2003-12-30', 2089.60],
    ['2003-12-31', 2083.63],
    ['2004-01-01', 2093.54],
    ['2004-01-02', 2011.08],
    ['2004-01-05', 2020.78],
    ['2004-01-06', 2044.55],
    ['2004-01-07', 2056.75],
    ['2004-01-08', 2089.60],
    ['2004-01-09', 2083.63],
    ['2004-01-12', 2093.54],
    ['2004-01-13', 2113.11],
    ['2004-01-14', 2104.29],
    ['2004-01-15', 2101.86],
    ['2004-01-16', 2126.12],
    ['2004-01-20', 2149.03],
    ['2004-01-21', 2139.33],
    ['2004-01-22', 2146.32],
    ['2004-01-23', 2124.76],
    ['2004-01-26', 2120.56],
    ['2004-01-27', 2148.05],
    ['2004-01-28', 2125.02],
    ['2004-01-29', 2085.54],
    ['2004-01-30', 2068.36]
    ];
}

</script>
{% endblock %}