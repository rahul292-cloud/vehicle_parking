<section class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="box box-info collapsed-box">
                <div class="box-header with-border">
                    <div class="user-block">
                        <div class="form-group">


                            <div class="col-sm-6">
                                <input type="text" class="form-control" id="addCont_no" placeholder="Search any thing">
                            </div>
                            <button class="btn btn-primary">
                                Filter
                            </button>
                            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                Advance Filter
                            </button>
                        </div>
                    </div>
                    <!-- /.user-block -->
                    <div class="box-tools" style="padding-top:0.5em">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                    </div>
                    <!-- /.box-tools -->
                </div>
                <!-- /.box-header -->
                <div class="box-body" style="display: none;">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label for="addCont_no" class="col-sm-2 control-label">Container NO</label>

                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="addCont_no" placeholder="Container NO">
                            </div>
                            <label for="addCont_no" class="col-sm-2 control-label">Container NO</label>

                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="addCont_no" placeholder="Container NO">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addCont_no" class="col-sm-2 control-label">Container NO</label>

                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="addCont_no" placeholder="Container NO">
                            </div>
                            <label for="addCont_no" class="col-sm-2 control-label">Container NO</label>

                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="addCont_no" placeholder="Container NO">
                            </div>
                        </div>
                    </form>
                </div>

                <div class="box-footer" style="display: none;">
                    <button type="button" class="btn  btn-primary pull-right"> Search</button>
                    <button type="button" class="btn  btn-default"> Cancel</button>
                </div>
                <!-- /.box-footer -->
            </div>
        </div>
    </div>
    <!-- row -->
    <div class="row">
        @*<div class="col-md-4">
                <!-- The time line -->
                <ul class="timeline">
                    <!-- timeline time label -->
                    <li class="time-label">
                        <span class="bg-red">
                            10 Feb. 2014
                        </span>
                    </li>
                    <!-- /.timeline-label -->
                    <!-- timeline item -->
                    <li>
                        <i class="fa fa-truck bg-blue"></i>

                        <div class="timeline-item">
                            <span class="time"><i class="fa fa-clock-o"></i> 12:05</span>

                            <h3 class="timeline-header"><a href="#">Gate In</a> Details</h3>

                            <div class="timeline-body">
                                Etsy doostang zoodles disqus groupon greplin oooj voxy zoodles,
                                weebly ning heekya handango imeem plugg dopplr jibjab, movity
                                jajah plickers sifteo edmodo ifttt zimbra. Babblely odeo kaboodle
                                quora plaxo ideeli hulu weebly balihoo...
                            </div>
                            <div class="timeline-footer">
                                <a class="btn btn-primary btn-xs">Read more</a>
                                <a class="btn btn-danger btn-xs">Delete</a>
                            </div>
                        </div>
                    </li>
                    <!-- END timeline item -->
                    <!-- timeline item -->
                    <li>
                        <i class="fa fa-cube bg-aqua"></i>

                        <div class="timeline-item">
                            <span class="time"><i class="fa fa-clock-o"></i> 5 mins ago</span>

                            <h3 class="timeline-header no-border"><a href="#">Sarah Young</a> accepted your friend request</h3>
                        </div>
                    </li>
                    <!-- END timeline item -->
                    <!-- timeline item -->
                    <li>
                        <i class="fa fa-exchange bg-yellow"></i>

                        <div class="timeline-item">
                            <span class="time"><i class="fa fa-clock-o"></i> 27 mins ago</span>

                            <h3 class="timeline-header"><a href="#">Jay White</a> commented on your post</h3>

                            <div class="timeline-body">
                                Take me to your leader!
                                Switzerland is small and neutral!
                                We are more like Germany, ambitious and misunderstood!
                            </div>
                            <div class="timeline-footer">
                                <a class="btn btn-warning btn-flat btn-xs">View comment</a>
                            </div>
                        </div>
                    </li>
                    <!-- END timeline item -->
                    <!-- timeline time label -->
                    <li class="time-label">
                        <span class="bg-green">
                            3 Jan. 2014
                        </span>
                    </li>
                    <!-- /.timeline-label -->
                    <!-- timeline item -->
                    <li>
                        <i class="fa fa-camera bg-purple"></i>

                        <div class="timeline-item">
                            <span class="time"><i class="fa fa-clock-o"></i> 2 days ago</span>

                            <h3 class="timeline-header"><a href="#">Mina Lee</a> uploaded new photos</h3>

                            <div class="timeline-body">
                                <img src="http://placehold.it/150x100" alt="..." class="margin">
                                <img src="http://placehold.it/150x100" alt="..." class="margin">
                                <img src="http://placehold.it/150x100" alt="..." class="margin">
                                <img src="http://placehold.it/150x100" alt="..." class="margin">
                            </div>
                        </div>
                    </li>
                    <!-- END timeline item -->

                    <!-- END timeline item -->
                    <li>
                        <i class="fa fa-clock-o bg-gray"></i>
                    </li>
                </ul>
            </div>*@
        <!-- /.col -->
        <div class="col-md-12">
            <!-- Horizontal Form -->
            <div class="box box-info">
                <div class="box-header with-border">
                    <h3 class="box-title">Map</h3>

                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" onclick="$( '#table_data' ).toggle();">
                            <i class="fa fa-minus"></i>
                        </button>
                        <button type="button" class="btn btn-box-tool" onclick="GetLocation()">
                            <i class="fa fa-trash"></i>
                        </button>
                        <button type="button" class="btn btn-box-tool" onclick="clearShape()">
                            <i class="fa fa-refresh"></i>
                        </button>
                    </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div id="googlemap" style="height: 350px; width: 100%; position: relative; overflow: hidden;">
                        <div style="height: 100%; width: 100%; position: absolute; top: 0px; left: 0px; background-color: rgb(229, 227, 223);">
                            <div class="gm-style" style="position: absolute; left: 0px; top: 0px; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; z-index: 0;">
                                <div style="position: absolute; left: 0px; top: 0px; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; z-index: 0; cursor: url(&quot;http://maps.gstatic.com/mapfiles/openhand_8_8.cur&quot;) 8 8, default;">
                                    <div style="position: absolute; left: 0px; top: 0px; z-index: 1; width: 100%; transform-origin: 0px 0px 0px; transform: matrix(1, 0, 0, 1, 0, 0);">
                                        <div style="position: absolute; left: 0px; top: 0px; z-index: 100; width: 100%;">
                                            <div style="position: absolute; left: 0px; top: 0px; z-index: 0;">
                                                <div aria-hidden="true" style="position: absolute; left: 0px; top: 0px; z-index: 1; visibility: inherit;">
                                                    <div style="width: 256px; height: 256px; position: absolute; left: 186px; top: 1px;"></div>
                                                    <div style="width: 256px; height: 256px; position: absolute; left: -70px; top: 1px;">
                                                    </div><div style="width: 256px; height: 256px; position: absolute; left: 186px; top: -255px;"></div>
                                                    <div style="width: 256px; height: 256px; position: absolute; left: 186px; top: 257px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 442px; top: 1px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -70px; top: -255px;"></div><div style="width: 256px; height: 256px; position: absolute; left: -70px; top: 257px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 442px; top: -255px;"></div><div style="width: 256px; height: 256px; position: absolute; left: 442px; top: 257px;"></div>
                                                </div>
                                            </div>
                                        </div><div style="position: absolute; left: 0px; top: 0px; z-index: 101; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 102; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 103; width: 100%;"><div style="position: absolute; left: 0px; top: 0px; z-index: -1;"><div aria-hidden="true" style="position: absolute; left: 0px; top: 0px; z-index: 1; visibility: inherit;"><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 186px; top: 1px;"><canvas draggable="false" height="346" width="346" style="user-select: none; position: absolute; left: 0px; top: 0px; height: 256px; width: 256px;"></canvas></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -70px; top: 1px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 186px; top: -255px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 186px; top: 257px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 442px; top: 1px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -70px; top: -255px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: -70px; top: 257px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 442px; top: -255px;"></div><div style="width: 256px; height: 256px; overflow: hidden; position: absolute; left: 442px; top: 257px;"></div></div></div></div><div style="position: absolute; z-index: 0; left: 0px; top: 0px;"><div style="overflow: hidden; width: 635px; height: 350px;"><img src="http://maps.googleapis.com/maps/api/js/StaticMapService.GetMapImage?1m2&amp;1i47160646&amp;2i29962751&amp;2e2&amp;3u18&amp;4m2&amp;1u635&amp;2u350&amp;5m5&amp;1e3&amp;5sen-US&amp;6sus&amp;10b1&amp;12b1&amp;token=17987" style="width: 635px; height: 350px;"></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><div aria-hidden="true" style="position: absolute; left: 0px; top: 0px; z-index: 1; visibility: inherit;"><div style="position: absolute; left: 186px; top: 1px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm0.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184222&amp;y=117042&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184222!3i117042!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=96114" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: -70px; top: 1px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm1.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184221&amp;y=117042&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184221!3i117042!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=48823" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: 186px; top: 257px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm0.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184222&amp;y=117043&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184222!3i117043!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=56393" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: 442px; top: 1px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm1.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184223&amp;y=117042&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184223!3i117042!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=12334" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: -70px; top: 257px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm1.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184221&amp;y=117043&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184221!3i117043!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=9102" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: 442px; top: 257px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm1.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184223&amp;y=117043&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184223!3i117043!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=103684" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: -70px; top: -255px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm1.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184221&amp;y=117041&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184221!3i117041!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=88544" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: 186px; top: -255px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm0.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184222&amp;y=117041&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184222!3i117041!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=4764" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div><div style="position: absolute; left: 442px; top: -255px; transition: opacity 200ms ease-out;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img src="http://khm1.googleapis.com/kh?v=717&amp;hl=en-US&amp;&amp;x=184223&amp;y=117041&amp;z=18" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><img src="http://maps.googleapis.com/maps/vt?pb=!1m5!1m4!1i18!2i184223!3i117041!4i256!2m3!1e0!2sm!3i375058446!3m9!2sen-US!3sUS!5e18!12m1!1e50!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2&amp;token=52055" draggable="false" alt="" style="width: 256px; height: 256px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div></div></div>
                                    </div><div class="gm-style-pbc" style="position: absolute; left: 0px; top: 0px; z-index: 2; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; opacity: 0;"><p class="gm-style-pbt">Use two fingers to move the map</p></div><div style="position: absolute; left: 0px; top: 0px; z-index: 3; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 4; width: 100%; transform-origin: 0px 0px 0px; transform: matrix(1, 0, 0, 1, 0, 0);"><div style="position: absolute; left: 0px; top: 0px; z-index: 104; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 105; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 106; width: 100%;"></div><div style="position: absolute; left: 0px; top: 0px; z-index: 107; width: 100%;"></div></div><iframe style="visibility: hidden; z-index: 0; position: absolute; height: 100%; width: 100%; padding: 0px; border-width: 0px; margin: 0px; left: 0px; top: 0px;"></iframe>
                                </div><div style="margin-left: 5px; margin-right: 5px; z-index: 1000000; position: absolute; left: 0px; bottom: 0px;"><a target="_blank" href="https://maps.google.com/maps?ll=18.913201,72.991072&amp;z=18&amp;t=h&amp;hl=en-US&amp;gl=US&amp;mapclient=apiv3" title="Click to see this area on Google Maps" style="position: static; overflow: visible; float: none; display: inline;"><div style="width: 66px; height: 26px; cursor: pointer;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/google_white5_hdpi.png" draggable="false" style="position: absolute; left: 0px; top: 0px; width: 66px; height: 26px; user-select: none; border: 0px; padding: 0px; margin: 0px;"></div></a></div><div style="background-color: white; padding: 15px 21px; border: 1px solid rgb(171, 171, 171); font-family: Roboto, Arial, sans-serif; color: rgb(34, 34, 34); box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 16px; z-index: 10000002; display: none; width: 256px; height: 148px; position: absolute; left: 158px; top: 85px;"><div style="padding: 0px 0px 10px; font-size: 16px;">Map Data</div><div style="font-size: 13px;">Map data ©2017 Google  Imagery ©2017 CNES / Astrium, DigitalGlobe</div><div style="width: 13px; height: 13px; overflow: hidden; position: absolute; opacity: 0.7; right: 12px; top: 12px; z-index: 10000;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/mapcnt6.png" draggable="false" style="position: absolute; left: -2px; top: -336px; width: 59px; height: 492px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><img src="http://maps.gstatic.com/mapfiles/transparent.png" draggable="false" style="width: 37px; height: 37px; user-select: none; border: 0px; padding: 0px; margin: 0px; position: absolute; right: 0px; top: 0px; z-index: 10001; cursor: pointer;"></div><div class="gmnoprint" style="z-index: 1000001; position: absolute; right: 143px; bottom: 0px; width: 322px;"><div draggable="false" class="gm-style-cc" style="user-select: none; height: 14px; line-height: 14px;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block;"><a style="color: rgb(68, 68, 68); text-decoration: none; cursor: pointer; display: none;">Map Data</a><span style="">Map data ©2017 Google  Imagery ©2017 CNES / Astrium, DigitalGlobe</span></div></div></div><div class="gmnoscreen" style="position: absolute; right: 0px; bottom: 0px;"><div style="font-family: Roboto, Arial, sans-serif; font-size: 11px; color: rgb(68, 68, 68); direction: ltr; text-align: right; background-color: rgb(245, 245, 245);">Map data ©2017 Google  Imagery ©2017 CNES / Astrium, DigitalGlobe</div></div><div class="gmnoprint gm-style-cc" draggable="false" style="z-index: 1000001; user-select: none; height: 14px; line-height: 14px; position: absolute; right: 0px; bottom: 0px;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block;"><a href="https://www.google.com/intl/en-US_US/help/terms_maps.html" target="_blank" style="text-decoration: none; cursor: pointer; color: rgb(68, 68, 68);">Terms of Use</a></div></div><div style="cursor: pointer; width: 25px; height: 25px; overflow: hidden; display: none; margin: 10px 14px; position: absolute; top: 0px; right: 0px;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/sv9.png" draggable="false" class="gm-fullscreen-control" style="position: absolute; left: -52px; top: -86px; width: 164px; height: 175px; user-select: none; border: 0px; padding: 0px; margin: 0px;"></div><div class="gmnoprint gm-bundled-control" draggable="false" controlwidth="28" controlheight="55" style="margin: 10px; user-select: none; position: absolute; left: 0px; top: 0px;"><div class="gmnoprint" controlwidth="28" controlheight="55" style="position: absolute; left: 0px; top: 0px;"><div draggable="false" style="user-select: none; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; border-radius: 2px; cursor: pointer; width: 28px; height: 55px; background-color: rgb(255, 255, 255);"><div title="Zoom in" style="position: relative; width: 28px; height: 27px; left: 0px; top: 0px;"><div style="overflow: hidden; position: absolute; width: 15px; height: 15px; left: 7px; top: 6px;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/tmapctrl_hdpi.png" draggable="false" style="position: absolute; left: 0px; top: 0px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 120px; height: 54px;"></div></div><div style="position: relative; overflow: hidden; width: 67%; height: 1px; left: 16%; top: 0px; background-color: rgb(230, 230, 230);"></div><div title="Zoom out" style="position: relative; width: 28px; height: 27px; left: 0px; top: 0px;"><div style="overflow: hidden; position: absolute; width: 15px; height: 15px; left: 7px; top: 6px;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/tmapctrl_hdpi.png" draggable="false" style="position: absolute; left: 0px; top: -15px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 120px; height: 54px;"></div></div></div></div></div><div class="gmnoprint gm-bundled-control gm-bundled-control-on-bottom" draggable="false" controlwidth="28" controlheight="28" style="margin: 10px; user-select: none; position: absolute; bottom: 41px; right: 28px;"><div class="gm-svpc" controlwidth="28" controlheight="28" style="background-color: rgb(255, 255, 255); box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; border-radius: 2px; width: 28px; height: 28px; cursor: url(&quot;http://maps.gstatic.com/mapfiles/openhand_8_8.cur&quot;) 8 8, default; position: absolute; left: 0px; top: 0px;"><div style="position: absolute; left: 1px; top: 1px;"></div><div style="position: absolute; left: 1px; top: 1px;"><div aria-label="Street View Pegman Control" style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/cb_scout5_hdpi.png" draggable="false" style="position: absolute; left: -147px; top: -26px; width: 215px; height: 835px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div aria-label="Pegman is on top of the Map" style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/cb_scout5_hdpi.png" draggable="false" style="position: absolute; left: -147px; top: -52px; width: 215px; height: 835px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div aria-label="Street View Pegman Control" style="width: 26px; height: 26px; overflow: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/cb_scout5_hdpi.png" draggable="false" style="position: absolute; left: -147px; top: -78px; width: 215px; height: 835px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div></div></div><div class="gmnoprint gm-bundled-control gm-bundled-control-on-bottom" draggable="false" controlwidth="0" controlheight="0" style="margin: 10px; user-select: none; position: absolute; display: none; bottom: 26px; left: 0px;"><div class="gmnoprint" controlwidth="28" controlheight="0" style="display: none; position: absolute;"><div title="Rotate map 90 degrees" style="width: 28px; height: 28px; overflow: hidden; position: absolute; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; cursor: pointer; background-color: rgb(255, 255, 255); display: none;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/tmapctrl4_hdpi.png" draggable="false" style="position: absolute; left: -141px; top: 6px; width: 170px; height: 54px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div><div class="gm-tilt" style="width: 28px; height: 28px; overflow: hidden; position: absolute; border-radius: 2px; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; top: 0px; cursor: pointer; background-color: rgb(255, 255, 255);"><img src="http://maps.gstatic.com/mapfiles/api-3/images/tmapctrl4_hdpi.png" draggable="false" style="position: absolute; left: -141px; top: -13px; width: 170px; height: 54px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none;"></div></div></div><div draggable="false" class="gm-style-cc" style="position: absolute; user-select: none; height: 14px; line-height: 14px; right: 71px; bottom: 0px;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; vertical-align: middle; display: inline-block;"><span>20 m&nbsp;</span><div style="position: relative; display: inline-block; height: 8px; bottom: -1px; width: 35px;"><div style="width: 100%; height: 4px; position: absolute; left: 0px; top: 0px;"></div><div style="width: 4px; height: 8px; left: 0px; top: 0px; background-color: rgb(255, 255, 255);"></div><div style="width: 4px; height: 8px; position: absolute; background-color: rgb(255, 255, 255); left: 0px; bottom: 0px;"></div><div style="position: absolute; background-color: rgb(102, 102, 102); height: 2px; left: 1px; bottom: 1px; right: 1px;"></div><div style="position: absolute; width: 2px; height: 6px; left: 1px; top: 1px; background-color: rgb(102, 102, 102);"></div><div style="width: 2px; height: 6px; position: absolute; background-color: rgb(102, 102, 102); bottom: 1px; right: 1px;"></div></div></div></div><div class="gmnoprint" style="margin: 10px; z-index: 0; position: absolute; cursor: pointer; left: 48px; top: 0px;"><div class="gm-style-mtc" style="float: left;"><div draggable="false" title="Show street map" style="direction: ltr; overflow: hidden; text-align: center; position: relative; color: rgb(86, 86, 86); font-family: Roboto, Arial, sans-serif; user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 11px; border-bottom-left-radius: 2px; border-top-left-radius: 2px; -webkit-background-clip: padding-box; background-clip: padding-box; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; min-width: 22px;">Map</div><div style="background-color: white; z-index: -1; padding: 2px; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; position: absolute; left: 0px; top: 36px; text-align: left; display: none;"><div draggable="false" title="Show street map with terrain" style="color: rgb(0, 0, 0); font-family: Roboto, Arial, sans-serif; user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 8px; direction: ltr; text-align: left; white-space: nowrap;"><span role="checkbox" style="box-sizing: border-box; position: relative; line-height: 0; font-size: 0px; margin: 0px 5px 0px 0px; display: inline-block; background-color: rgb(255, 255, 255); border: 1px solid rgb(198, 198, 198); border-radius: 1px; width: 13px; height: 13px; vertical-align: middle;"><div style="position: absolute; left: 1px; top: -2px; width: 13px; height: 11px; overflow: hidden; display: none;"><img src="http://maps.gstatic.com/mapfiles/mv/imgs8.png" draggable="false" style="position: absolute; left: -52px; top: -44px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 68px; height: 67px;"></div></span><label style="vertical-align: middle; cursor: pointer;">Terrain</label></div></div></div><div class="gm-style-mtc" style="float: left;"><div draggable="false" title="Show satellite imagery" style="direction: ltr; overflow: hidden; text-align: center; position: relative; color: rgb(0, 0, 0); font-family: Roboto, Arial, sans-serif; user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 11px; border-bottom-right-radius: 2px; border-top-right-radius: 2px; -webkit-background-clip: padding-box; background-clip: padding-box; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; border-left: 0px; min-width: 40px; font-weight: 500;">Satellite</div><div style="background-color: white; z-index: -1; padding: 2px; border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px; position: absolute; right: 0px; top: 36px; text-align: left; display: none;"><div draggable="false" title="Show imagery with street names" style="color: rgb(0, 0, 0); font-family: Roboto, Arial, sans-serif; user-select: none; font-size: 11px; background-color: rgb(255, 255, 255); padding: 8px; direction: ltr; text-align: left; white-space: nowrap;"><span role="checkbox" style="box-sizing: border-box; position: relative; line-height: 0; font-size: 0px; margin: 0px 5px 0px 0px; display: inline-block; background-color: rgb(255, 255, 255); border: 1px solid rgb(198, 198, 198); border-radius: 1px; width: 13px; height: 13px; vertical-align: middle;"><div style="position: absolute; left: 1px; top: -2px; width: 13px; height: 11px; overflow: hidden;"><img src="http://maps.gstatic.com/mapfiles/mv/imgs8.png" draggable="false" style="position: absolute; left: -52px; top: -44px; user-select: none; border: 0px; padding: 0px; margin: 0px; max-width: none; width: 68px; height: 67px;"></div></span><label style="vertical-align: middle; cursor: pointer;">Labels</label></div></div></div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.row -->
    <!-- /.row -->

</section>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAg_iwKbnOAlKx1rA6HZk8xt6v8MkXPtGo&libraries=drawing" type="text/javascript"></script>
<!--@*<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>*@-->
<script src="~/Scripts/Assets/gmaps.js"></script>
<script src="~/Scripts/Assets/lable.js"></script>
<!--@*<script src="https://hpneo.github.io/gmaps/gmaps.js"></script>*@-->
<!--@*<script src="~/Scripts/Assets/assets.js"></script>*@-->
    <script src="~/Scripts/Assets/infobubble.js"></script>
<script>
    var geo_type = "Polygon";
    var map;
    // var marker;
    var marker = [];
    var overlay;
    var newShape;
    var selectedShape;
    var infoBubble;
    var overlays = new Array();
    var Point = new Array();
    $(document).ready(function () {


<!--        //USGSOverlay.prototype = new google.maps.OverlayView();-->
        map = new GMaps({
            el: '#googlemap',
            lat: 18.91355,
            lng: 72.99063,
            zoom: 16
        });


<!--       // drawingManager.setDrawingMode(google.maps.drawing.OverlayType.POLYGON);-->

        var srcImage = '/Content/img/yard_speedy.png';
        infoBubble = new InfoBubble({
            minWidth: "320",
            minHeight: "auto"
        });

<!--        // setInterval(callajax, 30000);-->




        function formatDate(ms) {
            var pattern = /Date\(([^)]+)\)/;
            var results = pattern.exec(ms);
            if (results != null) {
                var dt = new Date(parseFloat(results[1]));
                return (dt.getMonth() + 1) + "/" + dt.getDate() + "/" + dt.getFullYear() + " " + dt.getHours() + ":" + dt.getMinutes();
            }
            else {
                return null;
            }
        }


        GetLocation();
        drawingtool();

    });

    var clearSelection = function () {
        if (selectedShape) {
            selectedShape.setEditable(false);
            selectedShape = null;
        }
    }

    var clearShape = function () {
        newShape.setMap(null);
    }

    var clearDrawingTool = function () {
        drawingManager.setMap(null);
    }

    var setSelection = function (shape) {
        clearSelection();
        selectedShape = shape;
        newShape = shape;
        shape.setEditable(true);
<!--        //selectColor(shape.get('fillColor') || shape.get('strokeColor'));-->
    }
    var deleteSelectedShape = function () {
        if (selectedShape) {
            selectedShape.setMap(null);
            infowindow.close();
        }
    }

    var deleteShape = function (shape) {
        if (shape) {
            shape.setMap(null);
        }
    }

<!--    /*function selectColor(color) {-->
<!--      selectedColor = color;-->
<!--      for (var i = 0; i < colors.length; ++i) {-->
<!--        var currColor = colors[i];-->
<!--        colorButtons[currColor].style.border = currColor == color ? '2px solid #789' : '2px solid #fff';-->
<!--      }-->

<!--      // Retrieves the current options from the drawing manager and replaces the-->
<!--      // stroke or fill color as appropriate.-->
<!--    /*  var polylineOptions = drawingManager.get('polylineOptions');-->
<!--      polylineOptions.strokeColor = color;-->
<!--      drawingManager.set('polylineOptions', polylineOptions);-->
<!--    -->
<!--      var rectangleOptions = drawingManager.get('rectangleOptions');-->
<!--      rectangleOptions.fillColor = color;-->
<!--      drawingManager.set('rectangleOptions', rectangleOptions);-->
<!--    -->
<!--      var circleOptions = drawingManager.get('circleOptions');-->
<!--      circleOptions.fillColor = color;-->
<!--      drawingManager.set('circleOptions', circleOptions);-->
<!--    -->
<!--      var polygonOptions = drawingManager.get('polygonOptions');-->
<!--      polygonOptions.fillColor = color;-->
<!--      drawingManager.set('polygonOptions', polygonOptions);-->
<!--    }*/-->

    function setSelectedShapeColor(selectedShape) {
        color = $("#jqxColorPicker").jqxColorPicker('getColor');
        if (selectedShape) {
            if (selectedShape.type == google.maps.drawing.OverlayType.POLYLINE) {
                selectedShape.set('strokeColor', color);
            } else {
                selectedShape.set('fillColor', color);
            }
        }
    }
    var deleteAllShape = function (all_overlays) {
        for (var i = 0; i < all_overlays.length; i++) {
            all_overlays[i].setMap(null);
        }
<!--        //all_overlays = [];-->
    }
    var drawingtool = function () {

        var polyOptions = { strokeWeight: 0.8, fillOpacity: 0.45, editable: true, fillColor: '#1E90FF' };

        geocoder = new google.maps.Geocoder();
        infowindow = new google.maps.InfoWindow();
<!--        // Creates a drawing manager attached to the map that allows the user to draw-->
<!--        // markers, lines, and shapes.-->
        var draw_mode;
        if (geo_type == 'Polygon')
            draw_mode = google.maps.drawing.OverlayType.POLYGON;
        else if (geo_type == 'Circle')
            draw_mode = google.maps.drawing.OverlayType.CIRCLE;
        else if (geo_type == 'Rectangle')
            draw_mode = google.maps.drawing.OverlayType.Rectangle;
        else
            draw_mode = google.maps.drawing.OverlayType.MARKER;

        drawingManager = new google.maps.drawing.DrawingManager({
            drawingMode: draw_mode,
            drawingControlOptions: {
                position: google.maps.ControlPosition.BOTTOM_CENTER,
                drawingModes: [google.maps.drawing.OverlayType.POLYGON,
                    google.maps.drawing.OverlayType.CIRCLE,
                    google.maps.drawing.OverlayType.Rectangle]
            },
            markerOptions: {
                draggable: true
            },

            polylineOptions: polyOptions,
            circleOptions: polyOptions,
            polygonOptions: polyOptions
        });
        drawingManager.setMap(map.map);

        google.maps.event.addListener(drawingManager, 'overlaycomplete', function (e) {
            newShape = e.overlay;
            newShape.type = e.type;
            if (e.type != google.maps.drawing.OverlayType.MARKER) {
<!--                // Switch back to non-drawing mode after drawing a shape.-->
                drawingManager.setDrawingMode(null);
<!--                // Add an event listener that selects the newly-drawn shape when the user-->
<!--                // mouses down on it.			-->


                google.maps.event.addListener(newShape, 'click', function (e1) {

<!--                    //var newShape = e1.overlay;-->
                    if (this.type == 'polygon') {
                        var path = this.getPath();
                        alert(path);
                        var coordinates = (this.getPath().getArray());
                        var varlatlng = '';
                        for (var i = 0; i < this.getPath().getLength() ; i++) {
                            if (i == 0)
                                varlatlng = varlatlng + '' + this.getPath().getAt(i).lat() + ' ' + this.getPath().getAt(i).lng();
                            else
                                varlatlng = varlatlng + ',' + this.getPath().getAt(i).lat() + ' ' + this.getPath().getAt(i).lng();
                        }
                        varlatlng = varlatlng + ',' + this.getPath().getAt(0).lat()+ ' ' + this.getPath().getAt(0).lng();
<!--                       // $("#txtcoordinate").val(varlatlng);-->
<!--                       // $("#txtgeotype").val("polygon");-->
                        setSelection(this);
<!--                        // openInfoWin12('polygon', varlatlng, 0, 'Enter Geo-fence Name', this.getPath().getAt(0).lat().toFixed(4), this.getPath().getAt(0).lng().toFixed(4), newShape);-->
                    } else if (this.type == 'circle') {
                        var radius = this.getRadius();
                        Cent = this.getCenter();
                        var Lat = Cent.lat();
                        var Lng = Cent.lng();
                        setSelection(this);
                        setSelectedShapeColor(this);
                        $("#txtcoordinate").val(Lat.toFixed(4) + ' ' + Lng.toFixed(4));
                        $("#txtgeotype").val("circle");
                        $("#txtRadius").val(radius.toFixed(2));
                        //  openInfoWin12('circle', Lat.toFixed(4) + ' ' + Lng.toFixed(4), radius.toFixed(2), 'Enter Geo-fence Name', Lat.toFixed(4), Lng.toFixed(4), newShape);
                    } else {
                        var coordinates = (this.getPath().getArray());
                        var varlatlng = '';
                        for (var i = 0; i < this.getPath().getLength() ; i++) {
                            if (i == 0)
                                varlatlng = varlatlng + '' + this.getPath().getAt(i).lat().toFixed(4) + ' ' + this.getPath().getAt(i).lng().toFixed(4);
                            else
                                varlatlng = varlatlng + ',' + this.getPath().getAt(i).lat().toFixed(4) + ' ' + this.getPath().getAt(i).lng().toFixed(4);
                        }
                        varlatlng = varlatlng + ',' + this.getPath().getAt(0).lat().toFixed(4) + ' ' + this.getPath().getAt(0).lng().toFixed(4);

<!--                        //alert(this.type+"");-->
                        $("#txtcoordinate").val(varlatlng);
                        $("#txtgeotype").val("polyline");
                        setSelection(this);
                        setSelectedShapeColor(this);
                    }
<!--                    // setSelection(this);-->
<!--                    // setSelection(newShape);-->
                });
                setSelection(newShape);
<!--               // setSelectedShapeColor(newShape);-->

            }
        });

        google.maps.event.addListener(drawingManager, 'polygoncomplete', function (polygon) {
            var coordinates = (polygon.getPath().getArray());
            var varlatlng = '';
            for (var i = 0; i < polygon.getPath().getLength() ; i++) {
                if (i == 0)
                    varlatlng = varlatlng + '' + polygon.getPath().getAt(i).lat() + ' ' + polygon.getPath().getAt(i).lng();
                else
                    varlatlng = varlatlng + ',' + polygon.getPath().getAt(i).lat() + ' ' + polygon.getPath().getAt(i).lng();
            }
            varlatlng = varlatlng + ',' + polygon.getPath().getAt(0).lat() + ' ' + polygon.getPath().getAt(0).lng();
            $("#txtcoordinate").val(varlatlng);
            $("#txtgeotype").val("polygon");
            setSelection(polygon);
<!--           // setSelectedShapeColor(polygon);-->
              openInfoWin12('polygon', varlatlng, 0, 'Enter Geo-fence Name', polygon.getPath().getAt(0).lat(), polygon.getPath().getAt(0).lng(), polygon);
        });


        google.maps.event.addListener(drawingManager, 'polylinecomplete', function (polyline) {
            var coordinates = (polyline.getPath().getArray());
            var varlatlng = '';
            for (var i = 0; i < polyline.getPath().getLength() ; i++) {
                if (i == 0)
                    varlatlng = varlatlng + '' + polyline.getPath().getAt(i).lat().toFixed(4) + ' ' + polyline.getPath().getAt(i).lng().toFixed(4);
                else
                    varlatlng = varlatlng + ',' + polyline.getPath().getAt(i).lat().toFixed(4) + ' ' + polyline.getPath().getAt(i).lng().toFixed(4);
            }
            varlatlng = varlatlng + ',' + polyline.getPath().getAt(0).lat().toFixed(4) + ' ' + polyline.getPath().getAt(0).lng().toFixed(4);
            //alert(varlatlng);
            $("#txtcoordinate").val(varlatlng);
            $("#txtgeotype").val("polyline");
            setSelection(polyline);
<!--            //setSelectedShapeColor(polyline);-->
<!--            //  openInfoWin12('polygon', varlatlng, 0, 'Enter Geo-fence Name', polygon.getPath().getAt(0).lat().toFixed(4), polygon.getPath().getAt(0).lng().toFixed(4), polygon);-->
        });

        google.maps.event.addListener(drawingManager, 'circlecomplete', function (circle) {
            var radius = circle.getRadius();
            var Cent = circle.getCenter();
            var Lat = Cent.lat();
            var Lng = Cent.lng();
            setSelection(circle);
<!--            //  openInfoWin12('circle', Lat.toFixed(4) + ' ' + Lng.toFixed(4), radius.toFixed(2), 'Enter Geo-fence Name', Lat.toFixed(4), Lng.toFixed(4), circle);-->
<!--            //google.maps.event.addDomListener(document.getElementById('btnDelete'), 'click', deleteSelectedShape);-->
            $("#txtcoordinate").val(Lat.toFixed(4) + ' ' + Lng.toFixed(4));
            $("#txtgeotype").val("circle");
            $("#txtRadius").val(radius.toFixed(2));
            setSelectedShapeColor(circle);
        });

        google.maps.event.addListener(drawingManager, 'drawingmode_changed', clearSelection);
        google.maps.event.addListener(map.map, 'click', clearSelection);
<!--        //google.maps.event.addDomListener(document.getElementById('btnDelete'), 'click', deleteSelectedShape);-->
    }
    var openInfoWin12 = function (geo_type, geo_cor, geo_rad, geo_name, mlat, mlng, shape) {
        contentString = '<div class="box box-info">' +
                '<div class="box-header with-border">' +
                    '<h3 class="box-title">Yard Mapping</h3>' +
                '</div>' +
               '<div class="box-body">' +
                             '<label for="inputEmail3" class="col-sm-2 control-label">&nbsp;</label>' +
                                '<input type="text" class="form-control" id="txtYard" placeholder="Enter Yard Name">' +
								 '<label for="inputEmail3" class="col-sm-2 control-label">&nbsp;</label>' +
                                '<input type="text" class="form-control" id="txtBlock" placeholder="Enter Block No">' +
								'<label for="inputEmail3" class="col-sm-2 control-label">&nbsp;</label>' +
                                '<input type="text" class="form-control" id="txtGeoDetails" value="' + geo_cor + '" disabled>' +
               '</div>' +
               '<div class="box-footer">' +
                      '<button type="button" onclick="SaveLocation()" class="btn btn-info pull-right">Save</button>' +
                '</div>' +
            '</div>';
        infoBubble.setContent(contentString);
        infoBubble.setPosition(new google.maps.LatLng(mlat, mlng));
        infoBubble.open(map.map);
        google.maps.event.addListener(infoBubble, 'closeclick', function () {
            infoBubble.close();
<!--            //clearShape();-->
            return false;
        });
    }

    function SaveLocation()
    {
        $.ajax({
            url: "/" + ProjectName + "/Location/InsertGeofence",
            method: 'POST',
            data: {
                Area: $("#txtYard").val(),
                Loc_Block: $("#txtBlock").val(),
                Geo_Fence: $("#txtGeoDetails").val()
            },
            crossDomain: true,
            success: function (result) {
                alert("Data save Successfully." + JSON.stringify(result));

            },
            error: function (e) {
                 alert("Time out :" + JSON.stringify(e));
            }
        });
    }

    function GetLocation() {
        $.ajax({
            url: "/" + ProjectName + "/Location/LocationList",
            method: 'POST',
            crossDomain: true,
            success: function (result) {
<!--               // alert("Location List :" + JSON.stringify(result));-->
                $.each(result, function (i, obj) {
                    var triangleCoords = new Array();
                    if (obj.Geo_Text != null) {
                        var pnt = obj.Geo_Text;
                        Point = pnt.split(",");
                        var bounds = new google.maps.LatLngBounds();
                        for (j = 0; j < Point.length; j++) {
                            var cord = Point[j].split(" ");
                            triangleCoords[j] = ([parseFloat(cord[0]), parseFloat(cord[1])]);
                            bounds.extend(new google.maps.LatLng(parseFloat(cord[0]), parseFloat(cord[1])));
                        }

                        overlays[i] = map.drawPolygon({
                            paths: triangleCoords, // pre-defined polygon shape
                            content: obj.Area + ":" + obj.Loc_Block,
                            strokeWeight: 0.4, fillOpacity: 0.6, fillColor: '#FFFFFF',
                            click: function (e) {
                                alert(obj.Area + ":" + obj.Loc_Block);
                                setSelection(this);
                            }
                        });
                        var circle = {
                            path: google.maps.SymbolPath.CIRCLE,
                            fillColor: 'red',
                            fillOpacity: 0,
                            scale: 0
                        };
<!--                       // bounds.getCenter();-->
                        var marker = new google.maps.Marker({
                            position: bounds.getCenter(),
                            //draggable: true,
                            map: map.map,
                            icon:circle
                        });

                        var label = new Label({
                            map: map.map
                        });
                        label.bindTo('position', marker, 'position');
                        //label.bindTo('text', marker, 'position');
                        label.set('text', obj.Area + ":" + obj.Loc_Block);
                    }
                });
            },
            error: function (e) {
                alert("Time out :" + JSON.stringify(e));
            }
        });
    }

</script>


